<?php/** * Created by PhpStorm. * User: anna * Date: 19.01.19 * Time: 0:17 */namespace App\Api\Document;use App\Api\Entity\EntityInterface;use App\Api\Mapper\ApiMapperInterface;final class DocumentBuilder{    private $apiMapper;    private $document;    public static function getInstance(ApiMapperInterface $apiMapper): self    {        $builder = new self($apiMapper);        $builder->createDocument();        return $builder;    }    public function __construct(ApiMapperInterface $apiMapper)    {        $this->apiMapper = $apiMapper;    }    public function createDocument()    {        $this->document = new Document();        return $this;    }    public function getDocument(): Document    {        return $this->document;    }    public function setEntity(EntityInterface $entity): self    {        $resource = new Resource($this->apiMapper->getType());        $resource->setId($entity->getId());        $resource->setAttributes($this->apiMapper->getAttributes($entity));        $this->document->setData($resource);        return $this;    }}